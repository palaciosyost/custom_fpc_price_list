<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="inherit_sale_order_line_tree" model="ir.ui.view">
        <field name="name">sale.order.tree.inherit.edit.price</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='order_line']/tree/field[@name='product_uom_qty']" position="after">
                <button 
                    name="action_open_stock_wizard"
                    type="object"
                    string=""
                    icon="fa-cubes"
                    class="btn btn-link"/>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree/field[@name='price_unit']" position="after">
                <button groups="custom_fpc_price_list.group_view_historial" name="action_open_precio_wizard" context="{'default_product_id': active_id}" type="object" icon="fa-eye" class="btn-link"/>
            </xpath>
        </field>
    </record>
<record id="view_price_product_list_wizard" model="ir.ui.view">
    <field name="name">price.product.list.wizard.form</field>
    <field name="model">price.product.list.wizard</field>
    <field name="arch" type="xml">
        <form string="Historial de Precios">
            <group>
                <field name="product_id" readonly="1"/>
            </group>
            <group>
                <field name="line_ids">
                    <tree editable="bottom">
                        <field name="fecha_registro"/>
                        <field name="moneda_id"/>
                        <field name="cliente"/>
                        <field name="precio_unitario"/>
                        <field name="is_existing" invisible="1"/>
                    </tree>
                </field>
            </group>
            <footer>
                <button string="Guardar" type="object" name="action_save" class="btn-primary"/>
                <button string="Cancelar" special="cancel" class="btn-secondary"/>
            </footer>
        </form>
    </field>
</record>
    <record id="view_price_product_list_tree" model="ir.ui.view">
        <field name="name">price.product.list.tree</field>
        <field name="model">price.product.list</field>
        <field name="arch" type="xml">
            <tree string="Historial de Precios" editable="bottom" delete="1">
                <field name="fecha_registro"/>
                <field name="cliente"/>
                <field name="moneda_id"/>
                <field name="precio_unitario"/>
            </tree>
        </field>
    </record>
    <record id="view_price_product_list_wizard" model="ir.ui.view">
        <field name="name">price.product.list.wizard.form</field>
        <field name="model">price.product.list.wizard</field>
        <field name="arch" type="xml">
            <form string="Historial de Precios">
                <group>
                    <field name="product_id" invisible="1" readonly="1"/>
                </group>
                    <field name="line_ids">
                        <tree editable="bottom">
                            <field name="fecha_registro"/>
                            <field name="moneda_id"/>
                            <field name="cliente"/>
                            <field name="precio_unitario"/>
                            <field name="is_existing" invisible="1"/>
                        </tree>
                    </field>
                <footer>
                    <button string="Guardar" type="object" name="action_save" class="btn-primary"/>
                    <button string="Cancelar" special="cancel" class="btn-secondary"/>
                </footer>
            </form>
        </field>
    </record>


    <record id="view_wizard_stock_info_form" model="ir.ui.view">
        <field name="name">wizard.stock.info.form</field>
        <field name="model">wizard.stock.info</field>
        <field name="arch" type="xml">
            <form string="Ubicaciones de Stock" version="17.0">
                <sheet>
                    <field name="stock_html" widget="html" readonly="1" />
                </sheet>
                <footer>
                    <button string="Cerrar" class="btn-primary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

</odoo>
